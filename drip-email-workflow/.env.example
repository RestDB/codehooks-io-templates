# Email Provider Configuration
# Choose 'sendgrid', 'mailgun', or 'postmark'
EMAIL_PROVIDER=sendgrid

# SendGrid Configuration (if using SendGrid)
SENDGRID_API_KEY=SG.your-sendgrid-api-key-here

# Mailgun Configuration (if using Mailgun)
MAILGUN_API_KEY=your-mailgun-api-key-here
MAILGUN_DOMAIN=mg.yourdomain.com  # Your Mailgun sending domain
MAILGUN_EU=false  # Set to "true" if using EU Mailgun account

# Postmark Configuration (if using Postmark)
POSTMARK_API_KEY=your-postmark-server-token-here

# Sender Information
# Note: FROM_EMAIL must be from a verified/authorized domain in Mailgun
# It doesn't need to match MAILGUN_DOMAIN exactly (e.g., can be noreply@yourdomain.com while MAILGUN_DOMAIN is mg.yourdomain.com)
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=Your Company Name

# Dry Run Mode (for testing without sending emails)
# Set to "true" to enable dry run mode - emails will be logged but not sent
# Set to "false" or omit to send emails normally
# Can be toggled at runtime without redeploying
DRY_RUN=false

# Rate Limiting Configuration
# Provider-specific rate limits (emails per hour)
# Adjust these based on your email provider's plan
SENDGRID_RATE_LIMIT=100
MAILGUN_RATE_LIMIT=100
POSTMARK_RATE_LIMIT=100

# Fallback rate limit if provider not specified
EMAIL_RATE_LIMIT=100

# Max emails to queue per cron run (15-minute interval)
# Formula: rate_limit / (60 / cron_interval_minutes)
# Example: 100 / (60 / 15) = 25
# This prevents overwhelming the queue and respects hourly limits
MAX_EMAILS_PER_CRON_RUN=25

# Workflow Configuration
# Workflow steps, delays, and email templates are now configured in stepsconfig.json
# Edit stepsconfig.json to customize your drip campaign workflow
# No environment variable needed for workflow steps!

# Notes:
# - Get SendGrid API key from: https://app.sendgrid.com/settings/api_keys
# - Get Mailgun API key from: https://app.mailgun.com/settings/api_security
# - Get Postmark Server Token from: https://account.postmarkapp.com/servers
# - For Mailgun: MAILGUN_DOMAIN is your sending domain (e.g., mg.yourdomain.com)
# - For Mailgun: FROM_EMAIL must be from a verified/authorized domain (doesn't need to match MAILGUN_DOMAIN)
# - For Mailgun EU accounts: Set MAILGUN_EU to "true"
# - For Postmark: Verify your sender signature or domain before sending
# - Verify your sender email/domain before sending emails
# - Set environment variables using: coho set-env VARIABLE_NAME "value"
# - Add/remove workflow steps by editing stepsconfig.json and redeploying
# - Each step includes its own email template in stepsconfig.json
